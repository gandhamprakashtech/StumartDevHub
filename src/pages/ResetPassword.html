<input type="password" id="password" placeholder="New password">
<button onclick="changePassword()">Reset Password</button>

<script type="module">
  import { supabase } from "/auth.js";

  async function changePassword() {
    const password = document.getElementById("password").value;

    const { error } = await supabase.auth.updateUser({
      password
    });

    if (error) {
      alert(error.message);
      return;
    }

    await supabase.auth.signOut();
    alert("Password changed. Please login again.");
    window.location.href = "/login.html";
  }

  window.changePassword = changePassword;
</script>
